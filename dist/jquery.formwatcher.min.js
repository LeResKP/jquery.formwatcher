/*! jQuery Form Watcher - v0.1.0 - 2014-04-22
* https://github.com/LeResKP/jquery.formwatcher
* Copyright (c) 2014 Aur√©lien Matouillot; Licensed MIT */
!function(a){"use strict";var b="dirty",c="clean",d=function(a){this.init(a)};d.uniqueId=0,d.prototype.init=function(b){this.$element=a(b),this.$inputs=a(b).find(":input"),this.$updatedElements=[],this.status=c;var d=this;this.$inputs.each(function(){var b=a(this);b.data("initial.formwatcher",d.getVal(b))}),this.$inputs.on("change.formwatcher keyup.formwatcher",function(){d.checkChange(a(this))})},d.prototype.getVal=function(a){return a.is('[type="checkbox"],[type="radio"]')?a.is(":checked"):a.val()},d.prototype.checkChange=function(a){if(this.getVal(a)!==a.data("initial.formwatcher")){var e=a.data("uniqueId.formwatcher");"undefined"==typeof e&&a.data("uniqueId.formwatcher",e=d.uniqueId++),-1===this.$updatedElements.indexOf(e)&&(this.$updatedElements.push(e),this.$element.trigger("dirty.formwatcher"),this.status=b)}else{var f=this.$updatedElements.indexOf(a.data("uniqueId.formwatcher"));-1!==f&&(this.$updatedElements.pop(f),0===this.$updatedElements.length&&(this.$element.trigger("clean.formwatcher"),this.status=c))}},a.fn.formwatcher=function(b){return this.each(function(){var c=a(this),e=c.data("formwatcher");e||c.data("formwatcher",e=new d(this)),"string"==typeof b&&e[b]()})},a.fn.formwatcher.Constructor=d}(jQuery);