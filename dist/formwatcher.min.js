/*! Formwatcher - v0.1.0 - 2014-04-22
* https://github.com/LeResKP/jquery.formwatcher
* Copyright (c) 2014 Aur√©lien Matouillot; Licensed MIT */
!function(a){"use strict";var b=function(a){this.init(a)};b.uniqueId=0,b.prototype.init=function(b){this.$element=a(b),this.$inputs=a(b).find(":input"),this.$updatedElements=[];var c=this;this.$inputs.each(function(){var b=a(this);b.data("initial.formwatcher",c.getVal(b))}),this.$inputs.on("change.formwatcher keyup.formwatcher",function(){c.checkChange(a(this))})},b.prototype.getVal=function(a){return a.is('[type="checkbox"],[type="radio"]')?a.is(":checked"):a.val()},b.prototype.checkChange=function(a){if(this.getVal(a)!==a.data("initial.formwatcher")){var c=a.data("uniqueId.formwatcher");"undefined"==typeof c&&a.data("uniqueId.formwatcher",c=b.uniqueId++),-1===this.$updatedElements.indexOf(c)&&(this.$updatedElements.push(c),this.$element.trigger("dirty.formwatcher"))}else{var d=this.$updatedElements.indexOf(a.data("uniqueId.formwatcher"));-1!==d&&(this.$updatedElements.pop(d),0===this.$updatedElements.length&&this.$element.trigger("clean.formwatcher"))}},a.fn.formwatcher=function(c){return this.each(function(){var d=a(this),e=d.data("formwatcher");e||d.data("formwatcher",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.formwatcher.Constructor=b}(jQuery);